/** Jindo Mobile Component(minify:5) : ../../www/docs/jindo-mobile/archive/1.13.0/
 *	jindo.m
 *	jindo.m.Component
 *	jindo.m.UIComponent
 *	jindo.m.Touch
 *	jindo.m.Scroll
 *	jindo.m.Selectbox
 */
if("undefined"==typeof jindo.m&&"undefined"!=typeof Node){var ___Old__addEventListener___=Node.prototype.addEventListener;Node.prototype.addEventListener=function(t,e,n){var i=arguments.callee;return i&&"click"===t&&"A"===this.tagName&&(this.___listeners___||(this.___listeners___=[])).push({listener:e,useCapture:n}),___Old__addEventListener___.apply(this,arguments)};var ___Old__removeEventListener___=Node.prototype.removeEventListener;Node.prototype.removeEventListener=function(t){var e=arguments.callee;return e&&"click"===t&&"A"===this.tagName&&this.___listeners___&&this.___listeners___.pop(),___Old__removeEventListener___.apply(this,arguments)}}var raf=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,caf=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame;if(raf&&!caf){var keyInfo={},oldraf=raf;raf=function(t){function e(){keyInfo[n]&&t()}var n=oldraf(e);return keyInfo[n]=!0,n},caf=function(t){delete keyInfo[t]}}else raf&&caf||(raf=function(t){return window.setTimeout(t,16)},caf=window.clearTimeout);window.requestAnimationFrame=raf,window.cancelAnimationFrame=caf,jindo.m=function(){function _initTouchEventName(){"ontouchstart"in window?(_htTouchEventName.start="touchstart",_htTouchEventName.move="touchmove",_htTouchEventName.end="touchend",_htTouchEventName.cancel="touchcancel"):window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0&&(_htTouchEventName.start="MSPointerDown",_htTouchEventName.move="MSPointerMove",_htTouchEventName.end="MSPointerUp",_htTouchEventName.cancel="MSPointerCancel")}function _getOrientationChangeEvt(){var t="onorientationchange"in window?"orientationchange":"resize";return _htOsInfo.android&&"2.1"===_htOsInfo.version&&(t="resize"),t}function _getVertical(){var t=null,e=_getOrientationChangeEvt();if("resize"===e){var n=document.documentElement.clientWidth;t=_nPreWidth>n?!0:n==_nPreWidth?!jindo.$Agent().navigator().mobile||jindo.$Agent().os().ipad?n<document.documentElement.clientHeight:_isVertical:!1,_nPreWidth=n}else{var i=window.orientation;0===i||180==i?t=!0:(90==i||-90==i)&&(t=!1)}return t}function _attachEvent(){jindo.$Fn(_onOrientationChange,this).attach(window,_getOrientationChangeEvt()).attach(window,"load"),jindo.$Fn(_onPageshow,this).attach(window,"pageshow")}function _initDeviceInfo(){function t(t,e){return(e||"").indexOf(t)>-1}_setOsInfo(),_setBrowserInfo();var e=navigator.userAgent;_htDeviceInfo={iphone:_htOsInfo.iphone,ipad:_htOsInfo.ipad,android:_htOsInfo.android,win:t("Windows Phone",e),galaxyTab:/SHW-M180/.test(e),galaxyTab2:/SHW-M380/.test(e),galaxyS:/SHW-M110/.test(e),galaxyS2:/SHW-M250|GT-I9100/.test(e),galaxyS2LTE:/SHV-E110/.test(e),galaxyS3:/SHV-E210|SHW-M440|GT-I9300/.test(e),galaxyNote:/SHV-E160/.test(e),galaxyNote2:/SHV-E250/.test(e),galaxyNexus:/Galaxy Nexus/.test(e),optimusLte2:/LG-F160/.test(e),optimusVu:/LG-F100/.test(e),optimusLte:/LG-LU6200|LG-SU640|LG-F120K'/.test(e),galaxyS4:/SHV-E300|GT-I9500|GT-I9505|SGH-M919|SPH-L720|SGH-I337|SCH-I545/.test(e),bChrome:_htBrowserInfo.chrome,bSBrowser:_htBrowserInfo.bSBrowser,bInapp:!1,version:_htOsInfo.version,browserVersion:_htBrowserInfo.version};for(var n in _htDeviceInfo)"boolean"==typeof _htDeviceInfo[n]&&_htDeviceInfo[n]&&_htDeviceInfo.hasOwnProperty(n)&&"b"!==n[0]&&(_htDeviceInfo.name=n);_htDeviceInfo.samsung=/GT-|SCH-|SHV-|SHW-|SPH|SWT-|SGH-|EK-|Galaxy Nexus|SAMSUNG/.test(e),_htDeviceInfo.lg=/LG-/.test(e),_htDeviceInfo.pantech=/IM-/.test(e),_htDeviceInfo.iphone||_htDeviceInfo.ipad?t("Safari",e)||(_htDeviceInfo.bInapp=!0):_htDeviceInfo.android&&(e=e.toLowerCase(),(t("inapp",e)||t("app",e.replace("applewebkit","")))&&(_htDeviceInfo.bInapp=!0))}function _setOsInfo(){_htOsInfo=jindo.$Agent().os(),_isInapp(),_htOsInfo.version=_htOsInfo.version||_getOsVersion(),_htOsInfo.ios="undefined"==typeof _htOsInfo.ios?_htOsInfo.ipad||_htOsInfo.iphone:_htOsInfo.ios}function _setBrowserInfo(){_htBrowserInfo=jindo.$Agent().navigator(),_htOsInfo.ios&&/CriOS/.test(navigator.userAgent)&&(_htBrowserInfo.chrome=!0),"undefined"==typeof _htBrowserInfo.firefox&&(_htBrowserInfo.firefox=/Firefox/.test(navigator.userAgent)),_isSBrowser(),_updateUnderVersion()}function _updateUnderVersion(){_htBrowserInfo.msafari&&_htBrowserInfo.chrome?_htBrowserInfo.version=parseFloat(_htOsInfo.ios?navigator.userAgent.match(/CriOS[ \/]([0-9.]+)/)[1]:navigator.userAgent.match(/Chrome[ \/]([0-9.]+)/)[1]):_htBrowserInfo.firefox&&(_htBrowserInfo.version=parseFloat(navigator.userAgent.match(/Firefox[ \/]([0-9.]+)/)[1]))}function _isInapp(){var t=navigator.userAgent;_htOsInfo.bInapp=!1,_htOsInfo.ios?-1==t.indexOf("Safari")&&(_htOsInfo.bInapp=!0):_htOsInfo.android&&(t=t.toLowerCase(),(-1!=t.indexOf("inapp")||-1!=t.replace("applewebkit","").indexOf("app"))&&(_htOsInfo.bInapp=!0))}function _isSBrowser(){_htBrowserInfo.bSBrowser=!1;var t=navigator.userAgent,e=t.match(/(SAMSUNG|Chrome)/gi)||"";e.length>1&&(_htBrowserInfo.bSBrowser=!0)}function _getOsVersion(){if(!_htOsInfo.version){var t,e=navigator.userAgent,n="";return _htOsInfo.iphone||_htOsInfo.ipad?(t=e.match(/OS\s([\d|\_]+\s)/i),null!==t&&t.length>1&&(n=t[1])):_htOsInfo.android?(t=e.match(/Android\s([^\;]*)/i),null!==t&&t.length>1&&(n=t[1])):_htOsInfo.mwin&&(t=e.match(/Windows Phone\s([^\;]*)/i),null!==t&&t.length>1&&(n=t[1])),n.replace(/\_/g,".").replace(/\s/g,"")}}function _onOrientationChange(t){if("load"===t.type)return _nPreWidth=document.documentElement.clientWidth,void(_isVertical=_htOsInfo.bInapp||!_htOsInfo.iphone&&!_htOsInfo.ipad&&"resize"===_getOrientationChangeEvt()?_nPreWidth>document.documentElement.clientHeight?!1:!0:_getVertical());if("resize"===_getOrientationChangeEvt())setTimeout(function(){_orientationChange(t)},0);else{var e=jindo.$Document().clientSize().width,n=300;if(_htDeviceInfo.android){if("orientationchange"==t.type&&e==_nPreWidth)return setTimeout(function(){_onOrientationChange(t)},500),!1;_nPreWidth=e}clearTimeout(_nRotateTimer),_nRotateTimer=setTimeout(function(){_orientationChange(t)},n)}}function _orientationChange(t){var e=_isVertical;_isVertical=_getVertical(),(jindo.$Agent().navigator().mobile||jindo.$Agent().os().ipad)&&e!==_isVertical&&(t.sType="rotate",t.isVertical=_isVertical,_fireEvent("mobilerotate",t))}function _onPageshow(t){_isVertical=_getVertical(),t.sType="pageShow",setTimeout(function(){_fireEvent("mobilePageshow",t)},300)}function _getTranslateOffsetFromCSSMatrix(t){var e=new WebKitCSSMatrix(window.getComputedStyle(t).webkitTransform);return{top:e.m42,left:e.m41}}function _fireEvent(t,e){if(_htHandler[t])for(var n=_htHandler[t].concat(),i=0,s=n.length;s>i;i++)n[i].call(this,e)}function _getTranslateOffsetFromStyle(t){var e=0,n=0,i=null,s=t.style[""==jindo.m.getCssPrefix()?"transform":jindo.m.getCssPrefix()+"Tranform"];if(s&&s.length>0&&(i=s.match(/translate.{0,2}\((.*)\)/),i&&i.length>1)){var o=i[1].split(",");o&&o.length>1&&(e=parseInt(o[1],10),n=parseInt(o[0],10))}return{top:e,left:n}}var _isVertical=null,_nPreWidth=-1,_nRotateTimer=null,_htHandler={},_htDeviceInfo={},_htAddPatch={},_htOsInfo={},_htBrowserInfo={},_htTouchEventName={start:"mousedown",move:"mousemove",end:"mouseup",cancel:null},_htDeviceList={galaxyTab:["SHW-M180"],galaxyTab2:["SHW-M380"],galaxyS:["SHW-M110"],galaxyS2:["SHW-M250","GT-I9100"],galaxyS2LTE:["SHV-E110"],galaxyS3:["SHV-E210","SHW-M440","GT-I9300"],galaxyNote:["SHV-E160"],galaxyNote2:["SHV-E250"],galaxyNexus:["Galaxy Nexus"],optimusLte2:["LG-F160"],optimusVu:["LG-F100"],optimusLte:["LG-LU6200","LG-SU640","LG-F120K"]},_htClientSize={galaxyTab:{4:{portrait:400},"default":{portrait:300,landscape:100}},galaxyTab2:{"default":{portrait:500,landscape:100}},galaxyNexus:{"default":{portrait:800,address:30,landscape:100}}},__M__={MOVETYPE:{0:"hScroll",1:"vScroll",2:"dScroll",3:"tap",4:"longTap",5:"doubleTap",6:"pinch",7:"rotate",8:"pinch-rotate"},sVersion:"unknown",$init:function(){_initDeviceInfo(),_initTouchEventName(),_attachEvent()},bindRotate:function(t){var e=_htHandler.mobilerotate;"undefined"==typeof e&&(e=_htHandler.mobilerotate=[]),e.push(t)},unbindRotate:function(t){var e=_htHandler.mobilerotate;if(e)for(var n,i=0;n=e[i];i++)if(n===t){e.splice(i,1);break}},bindPageshow:function(t){var e=_htHandler.mobilePageshow;"undefined"==typeof e&&(e=_htHandler.mobilePageshow=[]),e.push(t)},unbindPageshow:function(t){var e=_htHandler.mobilePageshow;if(e)for(var n,i=0;n=e[i];i++)if(n===t){e.splice(i,1);break}},getDeviceInfo:function(){return _htDeviceInfo},getOsInfo:function(){return _htOsInfo},getBrowserInfo:function(){return _htBrowserInfo},isVertical:function(){return null===_isVertical?_getVertical():_isVertical},getNodeElement:function(t){for(;1!=t.nodeType;)t=t.parentNode;return t},getTranslateOffset:function(t){t=jindo.$Element(t);var e,n=t.$value();return e=_htOsInfo.android&&3===parseInt(_htOsInfo.version,10)?_getTranslateOffsetFromStyle(n):"WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix?_getTranslateOffsetFromCSSMatrix(n):_getTranslateOffsetFromStyle(n)},getStyleOffset:function(t){var e=parseInt(t.css("left"),10),n=parseInt(t.css("top"),10);return e=isNaN(e)?0:e,n=isNaN(n)?0:n,{left:e,top:n}},attachTransitionEnd:function(t,e){var n=+jindo.$Jindo().version.replace(/[a-z.]/gi,"");if(n>230)t._jindo_fn_=jindo.$Fn(e,this).attach(t,"transitionend");else{var i=("ms"===this.getCssPrefix()?"MS":this.getCssPrefix())+"TransitionEnd";t.addEventListener(i,e,!1)}},detachTransitionEnd:function(t,e){var n=+jindo.$Jindo().version.replace(/[a-z.]/gi,"");if(n>230)t._jindo_fn_&&(t._jindo_fn_.detach(t,"transitionend"),delete t._jindo_fn_);else{var i=("ms"===this.getCssPrefix()?"MS":this.getCssPrefix())+"TransitionEnd";t.removeEventListener(i,e,!1)}},_attachFakeJindo:function(t,e,n){var i=+jindo.$Jindo().version.replace(/[a-z.]/gi,""),s=null;return s=230>i&&"undefined"!=typeof _notSupport?_notSupport.$Fn(e).attach(t,n):jindo.$Fn(e).attach(t,n)},_getTouchEventName:function(){return _htTouchEventName},getCssPrefix:function(){var t="";return"undefined"!=typeof document.body.style.webkitTransition?t="webkit":"undefined"!=typeof document.body.style.transition||("undefined"!=typeof document.body.style.MozTransition?t="Moz":"undefined"!=typeof document.body.style.OTransition?t="O":"undefined"!=typeof document.body.style.msTransition&&(t="ms")),t},getClosest:function(t,e){var n,i=jindo.$Element(e),s=/<\/?(?:h[1-5]|[a-z]+(?:\:[a-z]+)?)[^>]*>/gi;return s.test(t)?"<"+e.tagName.toUpperCase()+">"==t.toUpperCase()?n=e:(n=i.parent(function(e){return"<"+e.$value().tagName.toUpperCase()+">"==t.toUpperCase()?e:void 0}),n=n.length?n[0].$value():!1):(0==t.indexOf(".")&&(t=t.substring(1,t.length)),i.hasClass(t)?n=e:(n=i.parent(function(e){return e.hasClass(t)?e:void 0}),n=n.length?n[0].$value():!1)),n},useCss3d:function(t){if(_htAddPatch.useCss3d&&"function"==typeof _htAddPatch.useCss3d)switch(_htAddPatch.useCss3d()){case-1:return!1;case 1:return!0}"undefined"==typeof t&&(t=!1);var e=!1;if(_htBrowserInfo.chrome&&_htBrowserInfo.version<"25"&&!_htBrowserInfo.bSBrowser)return e;if(_htOsInfo.ios)e=!0;else if(_htBrowserInfo.firefox)e=!0;else if(_htOsInfo.android){var n=navigator.userAgent.match(/\(.*\)/)[0];_htOsInfo.version>="4.1.0"?e=/EK-GN120|SM-G386F/.test(n)?!1:!0:(!t&&_htOsInfo.version>="4.0"&&(e=!0),_htOsInfo.version>="4.0.3"&&/SHW-|SHV-|GT-|SCH-|SGH-|SPH-|LG-F160|LG-F100|LG-F180|LG-F200|EK-|IM-A|LG-F240|LG-F260/.test(n)&&!/SHW-M420|SHW-M200|GT-S7562/.test(n)&&(e=!0))}return e},patch:function(t){return _htAddPatch.ver=t,this},_checkPatchVersion:function(){var t=jindo.m.Component.VERSION.split("."),e=t.slice(0,3).join(".");return _htAddPatch.ver>=e?!0:!1},add:function(t){if(this._checkPatchVersion())for(var e in t)_htAddPatch[e]=t[e];return this},getDeviceName:function(){if(_htAddPatch.getDeviceName&&"function"==typeof _htAddPatch.getDeviceName&&_htAddPatch.getDeviceName())return _htAddPatch.getDeviceName();var sUserAgent=navigator.userAgent;for(var i in _htDeviceList)if(eval("/"+_htDeviceList[i].join("|")+"/").test(sUserAgent))return i;var htInfo=jindo.$Agent().os();for(var x in htInfo)if(htInfo[x]===!0&&htInfo.hasOwnProperty(x))return x},useFixed:function(){if(_htAddPatch.useFixed&&"function"==typeof _htAddPatch.useFixed)switch(_htAddPatch.useFixed()){case-1:return!1;case 1:return!0}var t=!1;return(_htBrowserInfo.chrome||_htBrowserInfo.firefox||_htOsInfo.android&&parseInt(_htOsInfo.version,10)>=3||_htOsInfo.ios&&parseInt(_htOsInfo.version,10)>=5||_htOsInfo.mwin&&parseInt(_htOsInfo.version,10)>=8)&&(t=!0),t},useTimingFunction:function(t){if(_htAddPatch.useTimingFunction&&"function"==typeof _htAddPatch.useTimingFunction&&_htAddPatch.useTimingFunction())switch(_htAddPatch.useTimingFunction()){case-1:return!1;case 1:return!0}"undefined"==typeof t&&(t=!1);var e=this.useCss3d();return _htOsInfo.android?(e=!1,!t&&_htOsInfo.version>="4.0"&&(e=!0)):_htOsInfo.ios&&parseInt(_htOsInfo.version,10)>=6&&(e=t?!0:!1),e},_cacheMaxClientSize:{},_fullSizeCheckElement:null,_allEventStop:function(t,e){this._htEvent||(this._htEvent={}),"detach"==e?(this._htEvent.touchstart.detach(document.body,"touchstart").detach(document.body,"touchmove"),this._htEvent={}):this._htEvent.touchstart||"attach"!=e||(this._htEvent.touchstart=jindo.$Fn(t,this).attach(document.body,"touchstart").attach(document.body,"touchmove"))},_stopDefault:function(t){t.stop()},_hasOrientation:void 0!==window.orientation,_maxClientSize:function(t,e){var n=this.getOsInfo();this._allEventStop(this._stopDefault,"attach"),this._fullSizeCheckElement||(this._fullSizeCheckElement=document.createElement("div"));var i=n.android?500:100;i=e?1:i;var s;this._hasOrientation&&(s=Math.abs(window.orientation/90)%2,i=void 0!==this._cacheMaxClientSize[s]?0:i);var o=this;document.body.scrollTop<=1?(document.body.appendChild(o._fullSizeCheckElement),o._fullSizeCheckElement.style.cssText="position:absolute; top: 0px; width:100%;height:"+parseInt(window.innerHeight+200,10)+"px;",window.scrollTo(0,1),setTimeout(function(){o._checkSize(o._hasOrientation,o._cacheMaxClientSize,s,t,o,i)},i)):(this._fullSizeCheckElement.style.height=window.innerHeight+"px",this._checkSize(this._hasOrientation,this._cacheMaxClientSize,s,t,o,i))},_checkSize:function(t,e,n,i,s,o){var h=this.getOsInfo(),r=this.getBrowserInfo();this._allEventStop(this._stopDefault,"attach");var a;t&&e[n]?a=e[n]:(s._fullSizeCheckElement.style.cssText="position:absolute; top: 0px; width:100%;height:"+window.innerHeight+"px;overflow:hidden",a=r.mobile||h.ipad?{width:window.innerWidth,height:window.innerHeight}:{width:document.documentElement.clientWidth,height:document.documentElement.clientHeight},t&&(e[n]=a)),i.call(s,a);var l=this;this._allEventStop(this._stopDefault,"detach"),0===o?this._fullSizeCheckElement.style.height="0px":setTimeout(function(){l._fullSizeCheckElement.style.height="0px"},o)},hasOffsetBug:function(){if(_htAddPatch.hasOffsetBug&&"function"==typeof _htAddPatch.hasOffsetBug)switch(_htAddPatch.hasOffsetBug()){case-1:return!1;case 1:return!0}var t=!1;return t=_htOsInfo.android?_htBrowserInfo.chrome||_htBrowserInfo.firefox?!1:_htOsInfo.version<"4"?!0:!1:!1},hasClickBug:function(){if(_htAddPatch.hasClickBug&&"function"==typeof _htAddPatch.hasClickBug)switch(_htAddPatch.hasClickBug()){case-1:return!1;case 1:return!0}return _htOsInfo.ios||window.navigator.msPointerEnabled&&window.navigator.msMaxTouchPoints>0||!1}};return __M__._isUseFixed=__M__.useFixed,__M__._isUseTimingFunction=__M__.useTimingFunction,__M__._isUseCss3d=__M__.useCss3d,__M__.getCssOffset=__M__.getTranslateOffset,__M__.$init(),__M__}(),"mixin"in jindo.$Jindo||(jindo.$Jindo.mixin=function(t,e){var n={};for(var i in t)n[i]=t[i];for(i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n}),jindo.m.Component=jindo.$Class({_htEventHandler:null,_htOption:null,$init:function(){this._htEventHandler={},this._htOption={},this._htOption._htSetter={}},option:function(t,e){switch(typeof t){case"undefined":var n={};for(var i in this._htOption)"htCustomEventHandler"!=i&&"_htSetter"!=i&&(n[i]=this._htOption[i]);return n;case"string":if("undefined"==typeof e)return this._htOption[t];if("htCustomEventHandler"==t){if("undefined"!=typeof this._htOption[t])return this;this.attach(e)}this._htOption[t]=e,"function"==typeof this._htOption._htSetter[t]&&this._htOption._htSetter[t](e);break;case"object":for(var s in t){if("htCustomEventHandler"==s){if("undefined"!=typeof this._htOption[s])continue;this.attach(t[s])}"_htSetter"!==s&&(this._htOption[s]=t[s]),"function"==typeof this._htOption._htSetter[s]&&this._htOption._htSetter[s](t[s])}}return this},optionSetter:function(t,e){switch(typeof t){case"undefined":return this._htOption._htSetter;case"string":if("undefined"==typeof e)return this._htOption._htSetter[t];this._htOption._htSetter[t]=jindo.$Fn(e,this).bind();break;case"object":for(var n in t)this._htOption._htSetter[n]=jindo.$Fn(t[n],this).bind()}return this},fireEvent:function(t,e){e=e||{};var n=this["on"+t],i=this._htEventHandler[t]||[],s="function"==typeof n,o=i.length>0;if(!s&&!o)return!0;i=i.concat(),e.sType=t,"undefined"==typeof e._aExtend&&(e._aExtend=[],e.stop=function(){e._aExtend.length>0&&(e._aExtend[e._aExtend.length-1].bCanceled=!0)}),e._aExtend.push({sType:t,bCanceled:!1});var h,r,a=[e];for(h=2,r=arguments.length;r>h;h++)a.push(arguments[h]);if(s&&n.apply(this,a),o){var l;for(h=0,l;l=i[h];h++)l.apply(this,a)}return!e._aExtend.pop().bCanceled},attach:function(t,e){if(1==arguments.length)return jindo.$H(arguments[0]).forEach(jindo.$Fn(function(t,e){this.attach(e,t)},this).bind()),this;var n=this._htEventHandler[t];return"undefined"==typeof n&&(n=this._htEventHandler[t]=[]),n.push(e),this},detach:function(t,e){if(1==arguments.length)return jindo.$H(arguments[0]).forEach(jindo.$Fn(function(t,e){this.detach(e,t)},this).bind()),this;var n=this._htEventHandler[t];if(n)for(var i,s=0;i=n[s];s++)if(i===e){n=n.splice(s,1);break}return this},detachAll:function(t){var e=this._htEventHandler;if(arguments.length)return"undefined"==typeof e[t]?this:(delete e[t],this);for(var n in e)delete e[n];return this}}),jindo.m.Component.factory=function(t,e){var n,i=[];"undefined"==typeof e&&(e={});for(var s,o=0;s=t[o];o++)n=new this(s,e),i[i.length]=n;return i},jindo.m.Component.getInstance=function(){throw new Error("JC 1.11.0 or JMC 1.13.0 later, getInstance method of Component is not longer supported.")},jindo.m.Component.VERSION="1.13.0",jindo.m.UIComponent=jindo.$Class({$init:function(){this._bIsActivating=!1},isActivating:function(){return this._bIsActivating},activate:function(){return this.isActivating()?this:(this._bIsActivating=!0,arguments.length>0?this._onActivate.apply(this,arguments):this._onActivate(),this)},deactivate:function(){return this.isActivating()?(this._bIsActivating=!1,arguments.length>0?this._onDeactivate.apply(this,arguments):this._onDeactivate(),this):this}}).extend(jindo.m.Component),jindo.m.Touch=jindo.$Class({$init:function(t,e){this._el=jindo.$(t);var n={nMomentumDuration:350,nMoveThreshold:7,nSlopeThreshold:25,nLongTapDuration:1e3,nDoubleTapDuration:400,nTapThreshold:6,nPinchThreshold:.1,nRotateThreshold:5,nEndEventThreshold:0,bActivateOnload:!0,bVertical:!0,bHorizental:!1};this.option(n),this.option(e||{}),this._initVariable(),this._setSlope(),this.option("bActivateOnload")&&this.activate()},_initVariable:function(){if(this._hasTouchEvent=!1,this._htEventName=jindo.m._getTouchEventName(),this._htEventName.start.indexOf("touch")>-1)this._hasTouchEvent=!0;else if(this._htEventName.start.indexOf("MSPointer")>-1&&"undefined"!=typeof this._el.style.msTouchAction){var t="none";this.option("bHorizental")&&!this.option("bVertical")&&(t="pan-x"),this.option("bVertical")&&!this.option("bHorizental")&&(t="pan-y"),this._el.style.msTouchAction=t}this._radianToDegree=180/Math.PI,this._htMoveInfo={nStartX:0,nStartY:0,nBeforeX:0,nBeforeY:0,nStartTime:0,nBeforeTime:0,nStartDistance:0,nBeforeDistance:0,nStartAngle:0,nLastAngle:0},this.bStart=!1,this.bMove=!1,this.nMoveType=-1,this.htEndInfo={},this._nVSlope=0,this._nHSlope=0,this.bSetSlope=!1},_attachEvents:function(){this._htEvent={};this._hasTouchEvent;this._htEvent[this._htEventName.start]={fn:jindo.$Fn(this._onStart,this).bind(),el:this._el},this._htEvent[this._htEventName.move]={fn:jindo.$Fn(this._onMove,this).bind(),el:this._el},this._htEvent[this._htEventName.end]={fn:jindo.$Fn(this._onEnd,this).bind(),el:this._el},this._htEvent.rotate=jindo.$Fn(this._onResize,this).bind(),jindo.m.bindRotate(this._htEvent.rotate),this._htEventName.cancel&&(this._htEvent[this._htEventName.cancel]={fn:jindo.$Fn(this._onCancel,this).bind(),el:this._el});for(var t in this._htEvent)this._htEvent[t].fn&&(this._htEvent[t].ref=jindo.m._attachFakeJindo(this._htEvent[t].el,this._htEvent[t].fn,t))},_detachEvents:function(){for(var t in this._htEvent){var e=this._htEvent[t];e.ref&&e.ref.detach(e.el,t)}jindo.m.unbindRotate(this._htEvent.rotate),this._htEvent=null},_onCancel:function(t){this._onEnd(t)},_onStart:function(t){this._resetTouchInfo();for(var e=this._getTouchInfo(t),n=[],i=[],s=0,o=e.length;o>s;s++)n.push(e[s].nX),i.push(e[s].nY);var h={element:e[0].el,nX:e[0].nX,nY:e[0].nY,aX:n,aY:i,oEvent:t};this._fireCustomEvent("touchStart",h)&&(this.bStart=!0,this._htMoveInfo.nStartX=e[0].nX,this._htMoveInfo.nBeforeX=e[0].nX,this._htMoveInfo.nStartY=e[0].nY,this._htMoveInfo.nBeforeY=e[0].nY,this._htMoveInfo.nStartTime=e[0].nTime,this._htMoveInfo.aStartInfo=e,this._startLongTapTimer(e,t))},_onMove:function(t){if(this.bStart){this.bMove=!0;var e=this._getTouchInfo(t),n=this._getCustomEventParam(e,!1);if(1===e.length){if(this.nMoveType<0||3==this.nMoveType||4==this.nMoveType){var i=this._getMoveType(e);(4!=this.nMoveType||3!=i)&&(this.nMoveType=i)}}else 8!==this.nMoveType&&(this.nMoveType=this._getMoveType(e));n=this._getCustomEventParam(e,!1),"undefined"!=typeof this._nLongTapTimer&&3!=this.nMoveType&&this._deleteLongTapTimer(),n.oEvent=t;var s=0;if(s=0==this.nMoveType?Math.abs(n.nVectorX):1==this.nMoveType?Math.abs(n.nVectorY):Math.abs(n.nVectorX)+Math.abs(n.nVectorY),!(s<this.option("nMoveThreshold"))){if(!this.fireEvent("touchMove",n))return void(this.bStart=!1);this._htMoveInfo.nBeforeX=e[0].nX,this._htMoveInfo.nBeforeY=e[0].nY,this._htMoveInfo.nBeforeTime=e[0].nTime}}},_onEnd:function(t){if(this.bStart){var e=this;if(this._deleteLongTapTimer(),this._deleteEndEventTimer(),this.bMove||4==this.nMoveType||(this.nMoveType=3),!(this.nMoveType<0)){var n=this._getTouchInfo(t);this._isDblTap(n[0].nX,n[0].nY,n[0].nTime)&&(clearTimeout(this._nTapTimer),delete this._nTapTimer,this.nMoveType=5);var i=this._getCustomEventParam(n,!0);i.oEvent=t;var s=i.sMoveType;"undefined"!=typeof this._htEventHandler[jindo.m.MOVETYPE[5]]&&this._htEventHandler[jindo.m.MOVETYPE[5]].length>0&&3==this.nMoveType?this._nTapTimer=setTimeout(function(){e.fireEvent("touchEnd",i),e._fireCustomEvent(s,i),delete e._nTapTimer},this.option("nDoubleTapDuration")):(this.fireEvent("touchEnd",i),4!=this.nMoveType&&(8===this.nMoveType?(i.sMoveType=jindo.m.MOVETYPE[6],this._fireCustomEvent(jindo.m.MOVETYPE[6],i),i.sMoveType=jindo.m.MOVETYPE[7],this._fireCustomEvent(jindo.m.MOVETYPE[7],i)):setTimeout(function(){e._fireCustomEvent(s,i)},0))),this._updateTouchEndInfo(n),this._resetTouchInfo()}}},_startEndEventTimer:function(t){var e=this;this._nEndEventTimer=setTimeout(function(){e._onEnd(t),delete e._nEndEventTimer},e.option("nEndEventThreshold"))},_deleteEndEventTimer:function(){"undefined"!=typeof this._nEndEventTimer&&(clearTimeout(this._nEndEventTimer),delete this._nEndEventTimer)},_fireCustomEvent:function(t,e){return this.fireEvent(t,e)},_getCustomEventParam:function(t,e){var n=jindo.m.MOVETYPE[this.nMoveType],i=t[0].nTime-this._htMoveInfo.nStartTime,s=0,o=0,h=0,r=0,a=0,l=0,c=0,_=0;c=1===this.nMoveType?0:t[0].nX-this._htMoveInfo.nStartX,_=0===this.nMoveType?0:t[0].nY-this._htMoveInfo.nStartY,s=t[0].nX-this._htMoveInfo.nBeforeX,o=t[0].nY-this._htMoveInfo.nBeforeY,!e||0!=this.nMoveType&&1!=this.nMoveType&&2!=this.nMoveType||i<=this.option("nMomentumDuration")&&(a=Math.abs(c)/i,h=a*a/2,l=Math.abs(_)/i,r=l*l/2);var u={element:t[0].el,nX:t[0].nX,nY:t[0].nY,nVectorX:s,nVectorY:o,nDistanceX:c,nDistanceY:_,sMoveType:n,nStartX:this._htMoveInfo.nStartX,nStartY:this._htMoveInfo.nStartY,nStartTimeStamp:this._htMoveInfo.nStartTime};if((t.length>1||this.nMoveType>=6)&&(u.nScale=this._getScale(t),u.nRotation=this._getRotation(t),null===u.nScale&&(u.nScale=this._htMoveInfo.nBeforeScale),null===u.nRotation&&(u.nRotation=this._htMoveInfo.nBeforeRotation)),t.length>=1){for(var f=[],d=[],p=[],m=0,v=t.length;v>m;m++)f.push(t[m].nX),d.push(t[m].nY),p.push(t[m].el);t[t.length-1].nX,u.aX=f,u.aY=d,u.aElement=p}return e&&(u.nMomentumX=h,u.nMomentumY=r,u.nSpeedX=a,u.nSpeedY=l,u.nDuration=i),u},_updateTouchEndInfo:function(t){this.htEndInfo={element:t[0].el,time:t[0].nTime,movetype:this.nMoveType,nX:t[0].nX,nY:t[0].nY}},_deleteLongTapTimer:function(){"undefined"!=typeof this._nLongTapTimer&&(clearTimeout(this._nLongTapTimer),delete this._nLongTapTimer)},_startLongTapTimer:function(t,e){var n=this;"undefined"!=typeof this._htEventHandler[jindo.m.MOVETYPE[4]]&&this._htEventHandler[jindo.m.MOVETYPE[4]].length>0&&(n._nLongTapTimer=setTimeout(function(){n.fireEvent("longTap",{element:t[0].el,oEvent:e,nX:t[0].nX,nY:t[0].nY}),delete n._nLongTapTimer,n.nMoveType=4},n.option("nLongTapDuration")))},_onResize:function(){this._setSlope()},_isDblTap:function(t,e){if("undefined"!=typeof this._nTapTimer&&3==this.nMoveType){var n=this.option("nTapThreshold");if(Math.abs(this.htEndInfo.nX-t)<=n&&Math.abs(this.htEndInfo.nY-e)<=n)return!0}return!1},_setSlope:function(){this.bSetSlope||(this._nHSlope=1*(window.innerHeight/2/window.innerWidth).toFixed(2),this._nVSlope=1*(window.innerHeight/(window.innerWidth/2)).toFixed(2))},setSlope:function(t,e){this._nHSlope=e,this._nVSlope=t,this.bSetSlope=!0},getSlope:function(){return{nVSlope:this._nVSlope,nHSlope:this._nHSlope}},_resetTouchInfo:function(){for(var t in this._htMoveInfo)this._htMoveInfo[t]=0;this._deleteLongTapTimer(),this.bStart=!1,this.bMove=!1,this.nMoveType=-1},_getMoveTypeBySingle:function(t,e){var n=this.nMoveType,i=Math.abs(this._htMoveInfo.nStartX-t),s=Math.abs(this._htMoveInfo.nStartY-e),o=i+s,h=this.option("nTapThreshold");if(n=h>=i&&h>=s?3:-1,this.option("nSlopeThreshold")<=o){var r=parseFloat((s/i).toFixed(2),10);n=-1===this._nHSlope&&-1===this._nVSlope?2:r<=this._nHSlope?0:r>=this._nVSlope?1:2}return n},_getMoveTypeByMulti:function(){var t=-1;return(6===this.nMoveType||Math.abs(1-this._htMoveInfo.nBeforeScale)>=this.option("nPinchThreshold"))&&(t=6),(7===this.nMoveType||Math.abs(0-this._htMoveInfo.nBeforeRotation)>=this.option("nRotateThreshold"))&&(t=6===t?8:7),-1===t?this.nMoveType:t},_getScale:function(t){var e=-1,n=this._getDistance(t);return 0>=n?null:(0===this._htMoveInfo.nStartDistance?(e=1,this._htMoveInfo.nStartDistance=n):e=n/this._htMoveInfo.nStartDistance,this._htMoveInfo.nBeforeScale=e,e)},_getRotation:function(t){var e=-1,n=this._getAngle(t);return null===n?null:(0===this._htMoveInfo.nStartAngle?(this._htMoveInfo.nStartAngle=n,e=0):e=n-this._htMoveInfo.nStartAngle,this._htMoveInfo.nLastAngle=n,this._htMoveInfo.nBeforeRotation=e,e)},_getMoveType:function(t){var e=this.nMoveType;return 1===t.length?e=this._getMoveTypeBySingle(t[0].nX,t[0].nY):2===t.length&&(e=this._getMoveTypeByMulti(t)),e},_getDistance:function(t){return 1===t.length?-1:Math.sqrt(Math.pow(Math.abs(t[0].nX-t[1].nX),2)+Math.pow(Math.abs(t[0].nY-t[1].nY),2))},_getAngle:function(t){if(1===t.length)return null;var e=t[0].nX-t[1].nX,n=t[0].nY-t[1].nY,i=Math.atan2(n,e)*this._radianToDegree;if(null!==this._htMoveInfo.nLastAngle){var s=Math.abs(this._htMoveInfo.nLastAngle-i),o=i+360,h=i-360;Math.abs(o-this._htMoveInfo.nLastAngle)<s?i=o:Math.abs(h-this._htMoveInfo.nLastAngle)<s&&(i=h)}return i},_getTouchInfo:function(t){var e=[],n=t.$value().timeStamp,i=null;if(this._hasTouchEvent){i="touchend"===t.type?t.$value().changedTouches:t.$value().targetTouches;for(var s=0,o=i.length;o>s;s++)e.push({el:jindo.m.getNodeElement(i[s].target),nX:i[s].pageX,nY:i[s].pageY,nTime:n})}else e.push({el:t.element,nX:t.pos().pageX,nY:t.pos().pageY,nTime:n});return e},getBaseElement:function(){return this._el},_onDeactivate:function(){this._detachEvents()},_onActivate:function(){this._attachEvents()},destroy:function(){var t;this.deactivate(),this._el=null;for(t in this._htMoveInfo)this._htMoveInfo[t]=null;this._htMoveInfo=null;for(t in this.htEndInfo)this.htEndInfo[t]=null;this.htEndInfo=null,this.bStart=null,this.bMove=null,this.nMoveType=null,this._nVSlope=null,this._nHSlope=null,this.bSetSlope=null}}).extend(jindo.m.UIComponent),jindo.m.Scroll=jindo.$Class({$init:function(t,e){this.option({bActivateOnload:!0,bUseHScroll:!1,bUseVScroll:!0,bUseMomentum:!0,nDeceleration:6e-4,nOffsetTop:0,nOffsetBottom:0,nHeight:0,nWidth:0,bUseBounce:!0,bUseHighlight:!0,sClassPrefix:"scroll_",bUseCss3d:jindo.m.useCss3d(!0),bUseTimingFunction:jindo.m.useTimingFunction(!0),bUseTranslate:!0,bAutoResize:!1,bUseDiagonalTouch:!0,nZIndex:2e3,sListElement:"",nRatio:1.5,bUseScrollbar:!0,nScrollbarHideThreshold:0,bUseFixedScrollbar:!1,sScrollbarBorder:"1px solid white",sScrollbarColor:"#8e8e8e",bUseScrollBarRadius:!0,bUsePullDown:!1,bUsePullUp:!1,fnPullDownIdle:null,fnPullDownBeforeUpdate:null,fnPullDownUpdating:null,fnPullUpIdle:null,fnPullUpBeforeUpdate:null,fnPullUpUpdating:null}),this.option(e||{}),this._initVar(),this._setWrapperElement(t),this instanceof jindo.m.Scroll&&this.option("bActivateOnload")&&this.activate()},_p:function(t){return t.length<=0?t:(t=""==this.sCssPrefix?t.charAt(0).toLowerCase()+t.substr(1):t.charAt(0).toUpperCase()+t.substr(1),this.sCssPrefix+t)},_initVar:function(){this.isPositionBug=jindo.m.hasOffsetBug(),this.isClickBug=jindo.m.hasClickBug(),this.nVersion=parseFloat(jindo.m.getDeviceInfo().version.substr(0,3)),this.sCssPrefix=jindo.m.getCssPrefix(),this.sTranOpen=null,this.sTranEnd=null,this.nWrapperW=null,this.nWrapperH=null,this.nScrollW=null,this.nScrollH=null,this.nMaxScrollLeft=null,this.nMaxScrollTop=null,this.nMinScrollTop=0,this.bUseHScroll=null,this.bUseVScroll=null,this.bUseHighlight=this.option("bUseHighlight"),this._nPropHScroll=null,this._nPropVScroll=null,this._nLeft=0,this._nTop=0,this._aAni=[],this._htTimer={ani:-1,fixed:-1,touch:-1,scrollbar:-1},this._htPlugin={dynamic:{},pull:{}},this._oTouch=null,this._isAnimating=!1,this._isControling=!1,this._isStop=!1,this.option("sListElement")&&this.option("bUseTimingFunction",!1),this._setTrans(),this.bUseHighlight&&(this.isPositionBug&&(this._elDummyTag=null),this.isClickBug&&(this._aAnchor=null,this._fnDummyFnc=function(){return!1},this._bBlocked=!1)),this._nUpdater=-1,this._oMoveData={nLeft:0,nTop:0}},_setTrans:function(){this.option("bUseCss3d")?(this.sTranOpen="3d(",this.sTranEnd=",0)"):(this.sTranOpen="(",this.sTranEnd=")")},getCurrentPos:function(){return{nTop:this._nTop,nLeft:this._nLeft}},setLayer:function(t){this._htWElement.wrapper=jindo.$Element(t),this._htWElement.wrapper.css({overflow:"hidden",zIndex:this.option("nZIndex")}),"static"==this._htWElement.wrapper.css("position")&&this._htWElement.wrapper.css("position","relative"),this.bUseHighlight||this._htWElement.wrapper.css(this._p("TapHighlightColor"),"rgba(0,0,0,0)"),this.setScroller()},setScroller:function(){this._htWElement.scroller=this._htWElement.wrapper.first(),this._htWElement.scroller.css({position:"absolute",zIndex:1,left:0,top:0}),(this.option("bUseTranslate")||this.option("bUseCss3d"))&&this._htWElement.scroller.css(this._p("TransitionProperty"),""==this.sCssPrefix?"transform":"-"+this.sCssPrefix+"-transform").css(this.sCssPrefix+"Transform","translate"+this.sTranOpen+"0,0"+this.sTranEnd),this.option("bUseTimingFunction")&&this._htWElement.scroller.css(this._p("TransitionTimingFunction"),"cubic-bezier(0.33,0.66,0.66,1)"),this.isPositionBug&&this.bUseHighlight&&(this._elDummyTag=this._htWElement.scroller.query("._scroller_dummy_atag_"),this._elDummyTag?this._elDummyTag=this._elDummyTag.$value():(this._elDummyTag=jindo.$("<a href='javascript:void(0);' style='position:absolute;height:0px;width:0px;' class='_scroller_dummy_atag_'></a>"),this._htWElement.scroller.append(this._elDummyTag)))
},width:function(t){return t?(this.option("nWidth",t),void this.refresh()):this.option("nWidth")?parseInt(this.option("nWidth"),10):this._htWElement.wrapper.width()},height:function(t){return t?(this.option("nHeight",t),void this.refresh()):this.option("nHeight")?parseInt(this.option("nHeight"),10):this._htWElement.wrapper.height()},_setWrapperElement:function(t){this._htWElement={},this.setLayer(t)},hasHScroll:function(){return this.bUseHScroll},hasVScroll:function(){return this.bUseVScroll},_createDynamicPlugin:function(t){var e={nRatio:this.option("nRatio"),sListElement:this.option("sListElement"),sDirection:t};this._inst("dynamic")?this._inst("dynamic").option(e):this._htPlugin.dynamic.o=new jindo.m.DynamicPlugin(this._htWElement.wrapper,e),this._inst("dynamic").refresh("V"==t?this._nTop:this._nLeft),this.option("bUseTimingFunction",!1),this._htPlugin.dynamic.bUse=!0},_refreshDynamicPlugin:function(){if(this._htPlugin.dynamic.bUse=!1,this.option("sListElement")&&(!this.bUseVScroll||!this.bUseHScroll)){var t=2*this.option("nRatio");this.bUseVScroll&&this.nScrollH>this.nWrapperH*t?this._createDynamicPlugin("V"):this.bUseHScroll&&this.nScrollW>this.nWrapperW*t&&this._createDynamicPlugin("H")}},_refreshPullPlugin:function(){return this._htPlugin.pull.bUse=this.option("bUsePullDown")||this.option("bUsePullUp"),this._isUse("pull")?(this._inst("pull")||(this._htPlugin.pull.o=new jindo.m.PullPlugin(this)),this._inst("pull").refresh(),!0):!1},refresh:function(t){if(this.isActivating()){this.option("nWidth")&&this._htWElement.wrapper.width(parseInt(this.option("nWidth"),10)),this.option("nHeight")&&this._htWElement.wrapper.height(parseInt(this.option("nHeight"),10));var e=parseInt(this._htWElement.wrapper.css("border-left-width"),10),n=parseInt(this._htWElement.wrapper.css("border-right-width"),10),i=parseInt(this._htWElement.wrapper.css("border-top-width"),10),s=parseInt(this._htWElement.wrapper.css("border-bottom-width"),10);e=isNaN(e)?0:e,n=isNaN(n)?0:n,i=isNaN(i)?0:i,s=isNaN(s)?0:s,this.nWrapperW=this._htWElement.wrapper.width()-e-n,this.nWrapperH=this._htWElement.wrapper.height()-i-s,this._refreshPullPlugin()||(this.nScrollW=this._htWElement.scroller.width(),this.nScrollH=this._htWElement.scroller.height()-this.option("nOffsetBottom"),this.nMinScrollTop=-this.option("nOffsetTop"),this.nMaxScrollTop=this.nWrapperH-this.nScrollH),this.nMaxScrollLeft=this.nWrapperW-this.nScrollW,this.bUseHighlight&&this.isClickBug&&(this._aAnchor=jindo.$$("A",this._htWElement.scroller.$value())),this.bUseHScroll=this.option("bUseHScroll")&&this.nWrapperW<=this.nScrollW,this.bUseVScroll=this.option("bUseVScroll")&&this.nWrapperH<=this.nScrollH,this.bUseHScroll&&!this.bUseVScroll&&(this._htWElement.scroller.$value().style.height="100%"),!this.bUseHScroll&&this.bUseVScroll&&(this._htWElement.scroller.$value().style.width="100%"),this._refreshDynamicPlugin(),this.option("bUseScrollbar")&&(this._refreshScroll("V"),this._refreshScroll("H")),this.bUseHScroll||this.bUseVScroll||this._fixPositionBug(),t||this.restorePos(0)}},_setPos:function(t,e){var n;if(t=this.bUseHScroll?t:0,e=this.bUseVScroll?e:0,this._isUse("dynamic")&&(n=this._checkDirection(t,e)),this._fireEvent("beforePosition")){if(this._isControling=!0,this._nLeft=t,this._nTop=e,this._isUse("dynamic")&&this._inst("dynamic").updateListStatus(n,this.bUseVScroll?this._nTop:this._nLeft),this.option("bUseTranslate")){if(this.bUseHighlight&&this.isPositionBug){var i=this.getStyleOffset(this._htWElement.scroller);t-=i.left,e-=i.top}this._htWElement.scroller.css(this._p("Transform"),"translate"+this.sTranOpen+t+"px, "+e+"px"+this.sTranEnd)}else this._htWElement.scroller.css({left:t+"px",top:e+"px"});this.option("bUseScrollbar")&&(this._htTimer.scrollbar=clearTimeout(this._htTimer.scrollbar),this._setScrollBarPos("V",this._nTop),this._setScrollBarPos("H",this._nLeft)),this._oMoveData={nLeft:this._nLeft,nTop:this._nTop},this._fireEvent("position")}else this._isAnimating=!1},_isUse:function(t){return this._htPlugin[t].bUse},_inst:function(t){return this._htPlugin[t].o},_checkDirection:function(t,e){var n,i=this.bUseVScroll?this._nTop:this._nLeft,s=this.bUseVScroll?e:t;return n=i>s?"forward":"backward"},restorePos:function(t){if(this.bUseHScroll||this.bUseVScroll){var e=this.getPosLeft(this._nLeft),n=this.getPosTop(this._nTop);return e===this._nLeft&&n===this._nTop?(this._isControling=!1,this._isStop=!1,this._fireAfterScroll(),void this._fixPositionBug()):void this._scrollTo(e,n,t)}},_getMomentum:function(t,e,n,i,s,o){var h=this.option("nDeceleration"),r=n/h,a=0,l=0;return 0>t&&r>s?(l=i/(6/(r/e*h)),s+=l,e=e*s/r,r=s):t>0&&r>o&&(l=i/(6/(r/e*h)),o+=l,e=e*o/r,r=o),r*=t>0?-1:1,a=e/h,{nDist:r,nTime:Math.round(a)}},_stop:function(){this.option("bUseTimingFunction")?(jindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd),this._transitionTime(0)):(cancelAnimationFrame(this._htTimer.ani),this._stopUpdater()),this._setPos(this._nLeft,this._nTop),this._aAni=[],this._isAnimating=!1,this._isStop=!0},_scrollTo:function(t,e,n){this._stop(),t=this.bUseHScroll?t:0,e=this.bUseVScroll?e:0,this._aAni.push({nLeft:t,nTop:e,nDuration:n||0}),this._animate()},scrollTo:function(t,e,n){n=n||0,t=-Math.abs(t),e=-Math.abs(e),e+=this.getTop(),this._scrollTo(t>=this.getLeft()?this.getLeft():t<=this.getRight()?this.getRight():t,e>=this.getTop()?this.getTop():e<=this.getBottom()?this.getBottom():e,n)},getRight:function(){return this.nMaxScrollLeft},getLeft:function(){return 0},getBottom:function(){return this.nMaxScrollTop},getTop:function(){return this.nMinScrollTop},isMoving:function(){return this._isControling},_animate:function(){var t,e=this;if(!this._isAnimating){if(!this._aAni.length)return void this.restorePos(300);do if(t=this._aAni.shift(),!t)return;while(t.nLeft==this._nLeft&&t.nTop==this._nTop);if(0==t.nDuration)this.option("bUseTimingFunction")&&this._transitionTime(0),this._setPos(t.nLeft,t.nTop),this._animate();else if(this._isAnimating=!0,this.option("bUseTimingFunction"))this._transitionTime(t.nDuration),this._setPos(t.nLeft,t.nTop),this._isAnimating=!1,jindo.m.attachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd);else{e._startUpdater();var n=(new Date).getTime(),i=this._nLeft,s=this._nTop;!function o(){var h,r=(new Date).getTime();return r>=n+t.nDuration?(e._stopUpdater(),e._setPos(t.nLeft,t.nTop),e._isAnimating=!1,void e._animate()):(r=(r-n)/t.nDuration-1,h=Math.sqrt(1-Math.pow(r,2)),e._oMoveData={nLeft:(t.nLeft-i)*h+i,nTop:(t.nTop-s)*h+s},void(e._isAnimating?e._htTimer.ani=requestAnimationFrame(o):e._stopUpdater()))}()}}},_onRotate:function(){this.refresh()},_transitionTime:function(t){t+="ms",this._htWElement.scroller.css(this._p("TransitionDuration"),t),this.option("bUseScrollbar")&&this._setScrollbarDuration(t)},_setScrollbarDuration:function(t){this.bUseHScroll&&this._htWElement.HscrollbarIndicator&&this._htWElement.HscrollbarIndicator.css(this._p("TransitionDuration"),t),this.bUseVScroll&&this._htWElement.VscrollbarIndicator&&this._htWElement.VscrollbarIndicator.css(this._p("TransitionDuration"),t)},_clearAnchor:function(){if(this.isClickBug&&this._aAnchor&&!this._bBlocked){for(var t=null,e=0,n=this._aAnchor.length;n>e;e++)if(!this._aAnchor[e].___isClear___){this._fnDummyFnc!==this._aAnchor[e].onclick&&(this._aAnchor[e]._onclick=this._aAnchor[e].onclick),this._aAnchor[e].onclick=this._fnDummyFnc,this._aAnchor[e].___isClear___=!0,t=this._aAnchor[e].___listeners___||[];for(var i=0,s=t.length;s>i;i++)___Old__removeEventListener___.call(this._aAnchor[e],"click",t[i].listener,t[i].useCapture)}this._bBlocked=!0}},_restoreAnchor:function(){if(this.isClickBug&&this._aAnchor&&this._bBlocked){for(var t=null,e=0,n=this._aAnchor.length;n>e;e++)if(this._aAnchor[e].___isClear___){this._aAnchor[e].onclick=this._fnDummyFnc!==this._aAnchor[e]._onclick?this._aAnchor[e]._onclick:null,this._aAnchor[e].___isClear___=null,t=this._aAnchor[e].___listeners___||[];for(var i=0,s=t.length;s>i;i++)___Old__addEventListener___.call(this._aAnchor[e],"click",t[i].listener,t[i].useCapture)}this._bBlocked=!1}},_stopScroll:function(){var t,e,n=jindo.m.getTranslateOffset(this._htWElement.scroller.$value()),i={left:0,top:0};(this.isPositionBug&&this.bUseHighlight||!this.option("bUseTranslate"))&&(i=this.getStyleOffset(this._htWElement.scroller)),e=n.left+i.left,t=n.top+i.top,this.option("bUseFixedScrollbar")||(this._hideScrollBar("V"),this._hideScrollBar("H")),parseInt(e,10)!==parseInt(this._nLeft,10)||parseInt(t,10)!==parseInt(this._nTop,10)?(this._stop(),this._setPos(this.getPosLeft(e),this.getPosTop(t)),this._isControling=!1,this._fireAfterScroll(),this._fixPositionBug()):this._stopUpdater()},getStyleOffset:function(t){var e=parseInt(t.css("left"),10),n=parseInt(t.css("top"),10);return e=isNaN(e)?0:e,n=isNaN(n)?0:n,{left:e,top:n}},getPosLeft:function(t){return this.bUseHScroll?t>=0?0:t<=this.nMaxScrollLeft?this.nMaxScrollLeft:t:0},getPosTop:function(t){return this.bUseVScroll?t>=this.nMinScrollTop?this.nMinScrollTop:t<=this.nMaxScrollTop?this.nMaxScrollTop:t:0},_hideScrollBar:function(t){if(this._htWElement){var e=this._htWElement[t+"scrollbar"],n="H"===t?this.bUseHScroll:this.bUseVScroll;n&&e&&(e.hide(),e.css("left",e.css("left")+"px"),this.isPositionBug&&this.bUseHighlight&&this.makeStylePos(this._htWElement[t+"scrollbarIndicator"]))}},_fireAfterScroll:function(){if(this.option("bUseScrollbar")){var t=this;this._htTimer.scrollbar=setTimeout(function(){t.option("bUseFixedScrollbar")||(t._hideScrollBar("V"),t._hideScrollBar("H"))},this.option("nScrollbarHideThreshold"))}this._fireEvent("afterScroll")},_fireEventbeforeScroll:function(t){return this.fireEvent("beforeScroll",t)},_fireEventScroll:function(t){this.fireEvent("scroll",t)},_fireEvent:function(t){return this.fireEvent(t,this._getNowPosition())},_fireTouchEvent:function(t,e){return this.fireEvent(t,this._getNowPosition(e))},_getNowPosition:function(t){return{nLeft:this._nLeft,nTop:this._nTop,nMaxScrollLeft:this.nMaxScrollLeft,nMaxScrollTop:this.nMaxScrollTop,oEvent:t||{}}},setUsePullDown:function(t){this._isUse("pull")&&(this.option("bUsePullDown",t),this.refresh())},setUsePullUp:function(t){this._isUse("pull")&&(this.option("bUsePullUp",t),this.refresh())},_onUpdater:function(){(this._oMoveData.nLeft!=this._nLeft||this._oMoveData.nTop!=this._nTop)&&this._setPos(this._oMoveData.nLeft,this._oMoveData.nTop),this._startUpdater()},_startUpdater:function(){this._stopUpdater(),this._nUpdater=window.requestAnimationFrame(this._htEvent.updater)},_stopUpdater:function(){window.cancelAnimationFrame(this._nUpdater),this._nUpdater=-1},_onStart:function(t){this._clearPositionBug(),this._fireTouchEvent("beforeTouchStart",t)?(this._clearAnchor(),this._isAnimating=!1,this._isControling=!0,this._isStop=!1,this.option("bUseTimingFunction")&&this._transitionTime(0),this._stopScroll(),this._fireTouchEvent("touchStart",t)||t.stop()):t.stop()},_onMove:function(t){var e=0,n=0;if(this._clearTouchEnd(),this._clearPositionBug(),this._fireTouchEvent("beforeTouchMove",t)){this._isUse("pull")&&this._inst("pull").touchMoveForUpdate(t,this.nMaxScrollTop);var i=t.oEvent;if(t.sMoveType===jindo.m.MOVETYPE[0]){if(!this.bUseHScroll)return!0;if(!this.option("bUseBounce")&&(this._nLeft>=0&&t.nVectorX>0||this._nLeft<=this.nMaxScrollLeft&&t.nVectorX<0))return void this._forceRestore(t);i.stop(jindo.$Event.CANCEL_ALL)}else if(t.sMoveType===jindo.m.MOVETYPE[1]){if(!this.bUseVScroll)return!0;if(!this.option("bUseBounce")&&(this._nTop>=this.nMinScrollTop&&t.nVectorY>0||this._nTop<=this.nMaxScrollTop&&t.nVectorY<0))return void this._forceRestore(t);i.stop(jindo.$Event.CANCEL_ALL)}else{if(t.sMoveType!==jindo.m.MOVETYPE[2])return i.stop(jindo.$Event.CANCEL_ALL),!0;if(!this.option("bUseDiagonalTouch"))return;i.stop(jindo.$Event.CANCEL_ALL)}if(this.option("bUseBounce")){this.bUseHScroll&&(e=this._nLeft+(this._nLeft>=0||this._nLeft<=this.nMaxScrollLeft?t.nVectorX/2:t.nVectorX)),this.bUseVScroll&&(n=this._nTop+(this._nTop>=this.nMinScrollTop||this._nTop<=this.nMaxScrollTop?t.nVectorY/2:t.nVectorY));var s=this;this._htTimer.touch=setTimeout(function(){s._forceRestore(t)},500)}else e=this.getPosLeft(this._nLeft+t.nVectorX),n=this.getPosTop(this._nTop+t.nVectorY);this._setPos(e,n),this._fireTouchEvent("touchMove",t)||t.stop()}else t.stop()},_onEnd:function(t){this._isUse("pull")&&this._inst("pull").pullUploading(),this._fireTouchEvent("beforeTouchEnd",t)?(this._clearPositionBug(),this._clearTouchEnd(),t.sMoveType===jindo.m.MOVETYPE[0]||t.sMoveType===jindo.m.MOVETYPE[1]||t.sMoveType===jindo.m.MOVETYPE[2]?(this._endForScroll(t),(this.isClickBug||this.nVersion<4.1)&&t.oEvent.stop(jindo.$Event.CANCEL_DEFAULT)):(this._isControling=!1,this._isStop||this.bUseHighlight&&this._restoreAnchor()),this._fireTouchEvent("touchEnd",t)||t.stop()):t.stop()},_forceRestore:function(t){t.nMomentumX=t.nMomentumY=null,this._endForScroll(t),this._clearPositionBug(),this._clearTouchEnd()},_endForScroll:function(t){clearTimeout(this._nFixedDubbleEndBugTimer);var e={nDist:0,nTime:0},n={nDist:0,nTime:0},i={nMomentumX:t.nMomentumX,nMomentumY:t.nMomentumY,nDistanceX:t.nDistanceX,nDistanceY:t.nDistanceY,nLeft:this._nLeft,nTop:this._nTop};this.option("bUseMomentum")&&(t.nMomentumX||t.nMomentumY)?(this.bUseHScroll&&(e=this._getMomentum(-t.nDistanceX,t.nSpeedX,t.nMomentumX,this.nWrapperW,-this._nLeft,-this.nMaxScrollLeft+this._nLeft)),this.bUseVScroll&&(n=this._getMomentum(-t.nDistanceY,t.nSpeedY,t.nMomentumY,this.nWrapperH,-this._nTop,-this.nMaxScrollTop+this._nTop)),i.nNextLeft=this._nLeft+e.nDist,i.nNextTop=this._nTop+n.nDist,i.nTime=Math.max(Math.max(e.nTime,n.nTime),10),this._fireEventbeforeScroll(i)&&(this.option("bUseBounce")?this._scrollTo(i.nNextLeft,i.nNextTop,i.nTime):this._scrollTo(this.getPosLeft(i.nNextLeft),this.getPosTop(i.nNextTop),i.nTime),this._fireEventScroll(i))):(i.nNextLeft=this._nLeft,i.nNextTop=this._nTop,i.nTime=0,this._fireEventbeforeScroll(i)&&(this._nLeft!==i.nNextLeft||this._nTop!==i.nNextTop?this._scrollTo(i.nNextLeft,i.nNextTop,i.nTime):this.restorePos(300),this._fireEventScroll(i)))},_onTransitionEnd:function(){jindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd),this._animate()},_onDocumentStart:function(t){if(this._htWElement.wrapper.visible()){if(this._htWElement.wrapper.isChildOf(t.element))return!0;this.isMoving()&&this._stopScroll()}},_onActivate:function(){this._oTouch?this._oTouch.activate():this._oTouch=new jindo.m.Touch(this._htWElement.wrapper.$value(),{nMoveThreshold:0,nMomentumDuration:jindo.m.getDeviceInfo().android?500:200,nTapThreshold:1,nSlopeThreshold:5,nEndEventThreshold:jindo.m.getDeviceInfo().win8?100:0,bHorizental:this.option("bUseHScroll"),bVertical:this.option("bUseVScroll")}),this._attachEvent(),this.refresh()},_onDeactivate:function(){this._detachEvent(),this._oTouch.deactivate()},_attachEvent:function(){this._htEvent={},this._htEvent.touchStart=jindo.$Fn(this._onStart,this).bind(),this._htEvent.touchMove=jindo.$Fn(this._onMove,this).bind(),this._htEvent.touchEnd=jindo.$Fn(this._onEnd,this).bind(),this._htEvent.TransitionEnd=jindo.$Fn(this._onTransitionEnd,this).bind(),this._htEvent.document=jindo.$Fn(this._onDocumentStart,this).attach(document,"touchstart"),this._oTouch.attach({touchStart:this._htEvent.touchStart,touchMove:this._htEvent.touchMove,touchEnd:this._htEvent.touchEnd}),this.option("bAutoResize")&&(this._htEvent.rotate=jindo.$Fn(this._onRotate,this).bind(),jindo.m.bindRotate(this._htEvent.rotate)),this.option("bUseTimingFunction")||(this._htEvent.updater=jindo.$Fn(this._onUpdater,this).bind())},_fixPositionBug:function(){if(this.isPositionBug&&this.bUseHighlight&&this.option("bUseTranslate")){var t=this;this._clearPositionBug(),this._htTimer.fixed=setTimeout(function(){t._htWElement&&t._htWElement.scroller&&(t.makeStylePos(t._htWElement.scroller),t.nVersion<3&&t._elDummyTag.focus())},200)}},makeStylePos:function(t){var e=t.$value(),n=jindo.m.getTranslateOffset(e),i=t.offset();e.style[this._p("Transform")]=this.nVersion>=4?"translate"+this.sTranOpen+"0px, 0px"+this.sTranEnd:null,e.style[this._p("TransitionDuration")]=null,t.offset(n.top+i.top,n.left+i.left)},_clearPositionBug:function(){this.isPositionBug&&this.bUseHighlight&&(clearTimeout(this._htTimer.fixed),this._htTimer.fixed=-1)},_clearTouchEnd:function(){clearTimeout(this._htTimer.touch),this._htTimer.touch=-1},_detachEvent:function(){jindo.m.detachTransitionEnd(this._htWElement.scroller.$value(),this._htEvent.TransitionEnd),this._htEvent.document.detach(document,"touchstart"),this.option("bAutoResize")&&jindo.m.unbindRotate(this._htEvent.rotate),this._oTouch.detachAll(),this._elDummyTag&&this._htWElement.scroller.remove(this._elDummyTag),this.option("bUseTimingFunction")||this._stopUpdater()},_createScroll:function(t){if("H"===t?this.bUseHScroll:this.bUseVScroll){var e=this._htWElement[t+"scrollbar"],n=this._htWElement[t+"scrollbarIndicator"],i=this._htWElement.wrapper;e&&(i.remove(e),this._htWElement[t+"scrollbar"]=this._htWElement[t+"scrollbarIndicator"]=null),e=this._createScrollbar(t),n=this._createScrollbarIndicator(t),this._htWElement[t+"scrollbar"]=e,this._htWElement[t+"scrollbarIndicator"]=n,e.append(n),i.append(e)}},_createScrollbar:function(t){var e=jindo.$Element("<div>");return e.css({position:"absolute",zIndex:100,bottom:"H"===t?"1px":(this.bUseHScroll?"7":"2")+"px",right:"H"===t?(this.bUseVScroll?"7":"2")+"px":"1px",pointerEvents:"none"}),this.option("bUseFixedScrollbar")?e.show():e.hide(),e.css("H"===t?{height:"5px",left:"2px"}:{width:"5px",top:"2px"}),e},_createScrollbarIndicator:function(t){var e=jindo.$Element("<div>").css({position:"absolute",zIndex:100,border:this.option("sScrollbarBorder"),pointerEvents:"none",left:0,top:0,backgroundColor:this.option("sScrollbarColor")});return jindo.m.getOsInfo().ios&&this.option("bUseScrollBarRadius")&&e.css(this._p("BorderRadius"),"12px"),(this.option("bUseTranslate")||this.option("bUseCss3d"))&&e.css(this._p("TransitionProperty"),""==this.sCssPrefix?"transform":"-"+this.sCssPrefix+"-transform").css(this._p("Transform"),"translate"+this.sTransOpen+"0,0"+this.sTransEnd),this.option("bUseTimingFunction")&&e.css(this._p("TransitionTimingFunction"),"cubic-bezier(0.33,0.66,0.66,1)"),"H"===t?e.height(5):e.width(5),e},_refreshScroll:function(t){if("H"===t){if(!this.bUseHScroll||this.nWrapperW==this.nScrollW)return}else if(!this.bUseVScroll||this.nWrapperH==this.nScrollH)return;this._htWElement[t+"scrollbar"]||this._createScroll(t);var e=this._htWElement[t+"scrollbar"],n=this._htWElement[t+"scrollbarIndicator"],i=0;"H"===t?(i=Math.max(Math.round(Math.pow(this.nWrapperW,2)/this.nScrollW),8),this._nPropHScroll=(this.nWrapperW-i)/this.nMaxScrollLeft,e.width(this.nWrapperW),n.width(isNaN(i)?0:i)):(i=Math.max(Math.round(Math.pow(this.nWrapperH,2)/this.nScrollH),8),this._nPropVScroll=(this.nWrapperH-i)/this.nMaxScrollTop,e.height(this.nWrapperH),n.height(isNaN(i)?0:i))},_setScrollBarPos:function(t,e){if("H"===t?this.bUseHScroll:this.bUseVScroll){var n=this._htWElement[t+"scrollbarIndicator"],i=this._htWElement[t+"scrollbar"];if(n&&i&&(e=this["_nProp"+t+"Scroll"]*e,this.option("bUseFixedScrollbar")||!i||i.visible()||(i.show(),this.option("bUseTimingFunction")&&i.$value().clientHeight),n))if(this.option("bUseTranslate")){if(this.isPositionBug&&this.bUseHighlight){var s=parseInt(n.css("H"===t?"left":"top"),10);e-=isNaN(s)?0:s}n.css(this._p("Transform"),"translate"+this.sTranOpen+("H"===t?e+"px,0":"0,"+e+"px")+this.sTranEnd)}else"H"===t?n.css("left",e+"px"):n.css("top",e+"px")}},destroy:function(){this.deactivate();for(var t in this._htWElement)this._htWElement[t]=null;this._htWElement=null,this._oTouch.destroy(),delete this._oTouch}}).extend(jindo.m.UIComponent),jindo.m.Selectbox=jindo.$Class({$init:function(t,e){this.option({bActivateOnload:!0,sClassPrefix:"select-",sPlaceholder:"선택해주세요",nHeight:80,sItemTag:"li",nDefaultIndex:-1}),this.option(e||{}),this._initVar(),this._setWrapperElement(t),this._init(),this.option("bActivateOnload")&&(this.activate(),this.select(this.option("nDefaultIndex")))},_initVar:function(){this._isNative=!1,this._oScroll=null,this._sClassPrefix=this.option("sClassPrefix"),this._aItems=null,this._nCurrentIdx=-1},_setWrapperElement:function(t){this._htWElement={},this._htWElement.base=jindo.$Element(t),this._htWElement.content=jindo.$Element(this._htWElement.base.query("."+this._sClassPrefix+"content")),this._htWElement.arrow=jindo.$Element(this._htWElement.base.query("."+this._sClassPrefix+"arrow")),this._htWElement.selectmenu=jindo.$Element(this._htWElement.base.query("."+this._sClassPrefix+"selectmenu"))},_init:function(){this._isNative="SELECT"==this._htWElement.selectmenu.$value().tagName?!0:!1,this._htWElement.base.css({position:"relative",display:"-webkit-box","-webkit-box-align":"center","-webkit-box-pack":"center","-webkit-tap-highlight-color":"transparent"}),this._htWElement.content.css({display:"block",overflow:"hidden","text-overflow":"ellipsis",cursor:"pointer","text-align":"center",width:"90%"}),this._htWElement.arrow&&this._htWElement.arrow.css({position:"relative","text-align":"right",display:"block","text-algn":"right"}),this._htWElement.selectmenu.css({position:"absolute",left:"0px",margin:"0px",zIndex:100}),this._isNative?this._htWElement.selectmenu.css({opacity:"0.0001",height:"100%","min-height":"100%",width:"100%"}):(this._htWElement.selectmenu.css({width:"100%"}).hide(),this._htWElement.selectmenu.first().css("width","100%"),this._oScroll=new jindo.m.Scroll(this._htWElement.selectmenu.$value(),{nHeight:this.option("nHeight"),bUseScrollbar:!1,bUseMomentum:!0,bUseHighlight:!1,bUseBounce:!0})),this._refreshItems()},_onActivate:function(){this._attachEvent()},_onDeactivate:function(){this._detachEvent()},_attachEvent:function(){this._htEvent={},this._isNative?this._htWElement.selectmenu.show():(this._htEvent.selectmenu=jindo.$Fn(this._onShow,this).attach(this._htWElement.base,"click"),this._htEvent.document=jindo.$Fn(this._onDocumentStart,this).attach(document,"touchstart")),this._htEvent.select=jindo.$Fn(this._onSelect,this).attach(this._htWElement.selectmenu,this._isNative?"change":"click")},_detachEvent:function(){this._isNative?this._htWElement.selectmenu.hide():(this._htEvent.selectmenu.detach(this._htWElement.base,"click"),this._htEvent.document.detach(document,"touchstart")),this._htEvent.select.detach(this._htWElement.selectmenu,this._isNative?"change":"click"),this._htEvent=null},_onShow:function(){this._showMenuForCustom()},_onSelect:function(t){if(this._isNative)this.select(t.element.selectedIndex);else{var e=jindo.$Element(t.element).parent();this.select(e.indexOf(t.element))}t.stop()},_onDocumentStart:function(t){if(this._htWElement.selectmenu.visible()){if(this._htWElement.selectmenu.isParentOf(t.element)||this._htWElement.selectmenu.isEqual(t.element))return!0;this._hideMenuForCustom()}},select:function(t){if(t>=0&&t<this._aItems.length){if(t!=this._nCurrentIdx&&this.fireEvent("beforeSelect",{nCurrentIdx:this._nCurrentIdx,sValue:this.getValue()})){if(this._isNative)this._aItems[t].selected=!0,this._setValue(this._aItems[t].value);else{var e=jindo.$Element(this._aItems[t]);this._aItems[this._nCurrentIdx]&&jindo.$Element(this._aItems[this._nCurrentIdx]).removeClass(this._sClassPrefix+"selected"),e.addClass(this._sClassPrefix+"selected"),this._setValue(e.text()),this._hideMenuForCustom()}var n=this._nCurrentIdx;this._nCurrentIdx=t,this.fireEvent("select",{nPrevIdx:n,sPrevValue:this.getValue(n),nCurrentIdx:this._nCurrentIdx,sValue:this.getValue()})}}else this._setValue(this.option("sPlaceholder"))},_showMenuForCustom:function(){if(!this._isNative&&!this._htWElement.selectmenu.visible()){this._htWElement.selectmenu.show();var t=jindo.$Element(this._htWElement.selectmenu.query(this.option("sItemTag"))).height();this._oScroll.refresh(),this._oScroll.scrollTo(0,this._nCurrentIdx<0?0:-this._nCurrentIdx*t),this._htEvent.selectmenu.detach(this._htWElement.base,"click")}},_hideMenuForCustom:function(){!this._isNative&&this._htWElement.selectmenu.visible()&&(this._htWElement.selectmenu.hide(),this._htEvent.selectmenu.attach(this._htWElement.base,"click"))},_refreshItems:function(){this._aItems=this._isNative?this._htWElement.selectmenu.$value().options:this._htWElement.selectmenu.queryAll(this.option("sItemTag"))},refresh:function(t){for(var e="",n=this._isNative?"option":this.option("sItemTag"),i=0,s=t.length;s>i;i++)e+="<",e+=n,e+=">",e+=t[i],e+="</",e+=n,e+=">";this._isNative?this._htWElement.selectmenu.html(e):this._htWElement.selectmenu.first().html(e),this._refreshItems(),this._nCurrentIdx=-1,this.select(this._nCurrentIdx)},_setValue:function(t){this._htWElement.content.text(t)},getCurrentIdx:function(){return this._nCurrentIdx},getValue:function(t){var e="";return t="undefined"==typeof t?this._nCurrentIdx:t,t>=0&&t<this._aItems.length&&(e=this._isNative?this._aItems[t].value:jindo.$Element(this._aItems[t]).text()),e},disable:function(){var t=this._sClassPrefix+"disable";this._htWElement.base.hasClass(t)||(this._htWElement.base.addClass(t),this._isNative?this._htWElement.selectmenu.hide():(this._htWElement.selectmenu.hide(),this._htEvent.selectmenu.detach(this._htWElement.base,"click")))},enable:function(){var t=this._sClassPrefix+"disable";this._htWElement.base.hasClass(t)&&(this._htWElement.base.removeClass(this._sClassPrefix+"disable"),this._isNative?this._htWElement.selectmenu.show():this._htEvent.selectmenu.attach(this._htWElement.base,"click"))},destroy:function(){this.deactivate(),this._oScroll&&this._oScroll.destroy()}}).extend(jindo.m.UIComponent);